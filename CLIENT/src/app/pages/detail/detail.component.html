<div *ngIf="!post">
  <app-loading></app-loading>
</div>
<div *ngIf="post">
  <div class="container">
    <div class="post-form" *ngIf="post">
      <div class="main-form">
        <div class="left-form">
          <div class="bg-image" [ngStyle]="{
              'background-image': 'url(' + post.images[0].url + ')'
            }"></div>
          <div class="bg-text">
            <img style="object-fit: contain" width="100%" height="100%" [src]="post.images[0].url" />
          </div>
        </div>
        <div class="right-form">
          <div class="reaction">
            <button class="like" nbButton style="background-color: transparent; border: none">
              <nb-icon icon="heart-outline" nbTooltip="Thích" nbTooltipPlacement="bottom"></nb-icon>
            </button>
            <button class="save" nbTooltip="Lưu" nbTooltipPlacement="bottom" nbButton>
              Lưu
            </button>
          </div>
          <div class="tags">
            <span *ngFor="let tag of tags">
              <a (click)="chooseTag(tag)" style="margin-left: 5px" nbTooltip="Tag" nbTooltipPlacement="right">{{ tag
                }}</a>
            </span>
          </div>
          <div style="padding: 15px 0">link.com</div>
          <div class="description">
            <div class="title">
              {{ post.title }}
            </div>
            <div class="content">
              {{ post.content }}
            </div>
          </div>
          <div class="profile">
            <img style="width: 50px; height: 50px; border-radius: 50%" src="../assets/iPic.png" />
            <div>{{ post.authorId.firstName }}</div>
          </div>
          <div class="comment">Nhận xét</div>
          <div class="output-comment">
            <span *ngFor="let comment of post.comments">
              <div class="single-comment">
                <div class="left">
                  <img src="../../../assets/iPic.png" />
                </div>
                <div class="right">
                  <div class="up">
                    <div id="usname">{{ comment.userId.firstName }}</div>
                    <div id="content">{{ comment.content }}</div>
                  </div>
                  <div class="down">
                    <div id="time">
                      {{ comment.createdAt | date: "medium" }}
                    </div>
                  </div>
                </div>
              </div>
            </span>
          </div>
          <div class="input-comment">
            <img style="width: 50px; height: 50px; border-radius: 50%" src="../assets/iPic.png" />
            <input (keydown)="enterComment($event)" [(ngModel)]="comment" type="text" placeholder="Thêm nhận xét ..." />
          </div>
        </div>
      </div>
    </div>
  </div>
  <div>
    <app-list-post-item [posts]="posts"></app-list-post-item>
  </div>
</div>